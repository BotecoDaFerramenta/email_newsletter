[Running 'cargo check && cargo test && cargo run']

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s


running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s


running 1 test
test health_check_works ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.23s


running 2 tests
test subscribe_return_a_400_when_data_is_missing ... ok
test subscribe_return_a_201_for_valid_form_data ... ok

test result: ok. 2 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.27s


running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

{"v":0,"name":"email_newsletter","msg":"starting 16 workers","level":30,"hostname":"std","pid":177067,"time":"2025-06-06T16:40:22.126617139Z","target":"actix_server::builder","line":310,"file":"/home/rotciv/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/builder.rs"}
{"v":0,"name":"email_newsletter","msg":"Tokio runtime found; starting in existing Tokio runtime","level":30,"hostname":"std","pid":177067,"time":"2025-06-06T16:40:22.126672764Z","target":"actix_server::server","line":192,"file":"/home/rotciv/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs"}
{"v":0,"name":"email_newsletter","msg":"starting service: \"actix-web-service-127.0.0.1:8000\", workers: 16, listening on: 127.0.0.1:8000","level":30,"hostname":"std","pid":177067,"time":"2025-06-06T16:40:22.126694976Z","target":"actix_server::server","line":197,"file":"/home/rotciv/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/actix-server-2.6.0/src/server.rs"}
{"v":0,"name":"email_newsletter","msg":"[HTTP REQUEST - START]","level":30,"hostname":"std","pid":177067,"time":"2025-06-06T16:40:26.453385627Z","target":"tracing_actix_web::root_span_builder","line":41,"file":"/home/rotciv/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tracing-actix-web-0.7.18/src/root_span_builder.rs","http.host":"127.0.0.1:8000","http.user_agent":"curl/7.88.1","http.route":"/subscribe","http.method":"POST","http.flavor":"1.1","http.scheme":"http","http.target":"/subscribe","otel.name":"POST /subscribe","otel.kind":"server","request_id":"ebbf25ef-f5aa-41ad-96ec-73da100cd4a0","http.client_ip":"127.0.0.1"}
{"v":0,"name":"email_newsletter","msg":"[ADDING A NEW SUBSCRIBER. - START]","level":30,"hostname":"std","pid":177067,"time":"2025-06-06T16:40:26.453565978Z","target":"email_newsletter::routes::subscribe","line":14,"file":"src/routes/subscribe.rs","subscriber_email":"thomas_mann10@hotmail.com","subscriber_name":"Tom","http.host":"127.0.0.1:8000","http.user_agent":"curl/7.88.1","http.route":"/subscribe","http.method":"POST","http.flavor":"1.1","http.scheme":"http","http.target":"/subscribe","otel.name":"POST /subscribe","otel.kind":"server","request_id":"ebbf25ef-f5aa-41ad-96ec-73da100cd4a0","http.client_ip":"127.0.0.1"}
{"v":0,"name":"email_newsletter","msg":"[SAVING NEW SUBSCRIBER DETAILS IN THE DATABASE - START]","level":30,"hostname":"std","pid":177067,"time":"2025-06-06T16:40:26.453609871Z","target":"email_newsletter::routes::subscribe","line":29,"file":"src/routes/subscribe.rs","subscriber_email":"thomas_mann10@hotmail.com","subscriber_name":"Tom","http.host":"127.0.0.1:8000","http.user_agent":"curl/7.88.1","http.route":"/subscribe","http.method":"POST","http.flavor":"1.1","http.scheme":"http","http.target":"/subscribe","otel.name":"POST /subscribe","otel.kind":"server","request_id":"ebbf25ef-f5aa-41ad-96ec-73da100cd4a0","http.client_ip":"127.0.0.1"}
{"v":0,"name":"email_newsletter","msg":"[SAVING NEW SUBSCRIBER DETAILS IN THE DATABASE - EVENT] Failed to execute query: Database(PgDatabaseError { severity: Error, code: \"23505\", message: \"duplicate key value violates unique constraint \\\"subscriptions_email_key\\\"\", detail: Some(\"Key (email)=(thomas_mann10@hotmail.com) already exists.\"), hint: None, position: None, where: None, schema: Some(\"public\"), table: Some(\"subscriptions\"), column: None, data_type: None, constraint: Some(\"subscriptions_email_key\"), file: Some(\"nbtinsert.c\"), line: Some(666), routine: Some(\"_bt_check_unique\") })","level":50,"hostname":"std","pid":177067,"time":"2025-06-06T16:40:26.454929592Z","target":"email_newsletter::routes::subscribe","line":47,"file":"src/routes/subscribe.rs","subscriber_email":"thomas_mann10@hotmail.com","subscriber_name":"Tom","http.host":"127.0.0.1:8000","http.user_agent":"curl/7.88.1","http.route":"/subscribe","http.method":"POST","http.flavor":"1.1","http.scheme":"http","http.target":"/subscribe","otel.name":"POST /subscribe","otel.kind":"server","request_id":"ebbf25ef-f5aa-41ad-96ec-73da100cd4a0","http.client_ip":"127.0.0.1"}
{"v":0,"name":"email_newsletter","msg":"[SAVING NEW SUBSCRIBER DETAILS IN THE DATABASE - END]","level":30,"hostname":"std","pid":177067,"time":"2025-06-06T16:40:26.454973475Z","target":"email_newsletter::routes::subscribe","line":29,"file":"src/routes/subscribe.rs","subscriber_email":"thomas_mann10@hotmail.com","subscriber_name":"Tom","elapsed_milliseconds":1,"http.host":"127.0.0.1:8000","http.user_agent":"curl/7.88.1","http.route":"/subscribe","http.method":"POST","http.flavor":"1.1","http.scheme":"http","http.target":"/subscribe","otel.name":"POST /subscribe","otel.kind":"server","request_id":"ebbf25ef-f5aa-41ad-96ec-73da100cd4a0","http.client_ip":"127.0.0.1"}
{"v":0,"name":"email_newsletter","msg":"[ADDING A NEW SUBSCRIBER. - END]","level":30,"hostname":"std","pid":177067,"time":"2025-06-06T16:40:26.455012218Z","target":"email_newsletter::routes::subscribe","line":14,"file":"src/routes/subscribe.rs","subscriber_email":"thomas_mann10@hotmail.com","subscriber_name":"Tom","elapsed_milliseconds":1,"http.host":"127.0.0.1:8000","http.user_agent":"curl/7.88.1","http.route":"/subscribe","http.method":"POST","http.flavor":"1.1","http.scheme":"http","http.target":"/subscribe","otel.name":"POST /subscribe","otel.kind":"server","request_id":"ebbf25ef-f5aa-41ad-96ec-73da100cd4a0","http.client_ip":"127.0.0.1"}
{"v":0,"name":"email_newsletter","msg":"[HTTP REQUEST - END]","level":30,"hostname":"std","pid":177067,"time":"2025-06-06T16:40:26.455068174Z","target":"tracing_actix_web::root_span_builder","line":41,"file":"/home/rotciv/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tracing-actix-web-0.7.18/src/root_span_builder.rs","http.status_code":500,"otel.status_code":"OK","elapsed_milliseconds":1,"http.host":"127.0.0.1:8000","http.user_agent":"curl/7.88.1","http.route":"/subscribe","http.method":"POST","http.flavor":"1.1","http.scheme":"http","http.target":"/subscribe","otel.name":"POST /subscribe","otel.kind":"server","request_id":"ebbf25ef-f5aa-41ad-96ec-73da100cd4a0","http.client_ip":"127.0.0.1"}
{"v":0,"name":"email_newsletter","msg":"[HTTP REQUEST - START]","level":30,"hostname":"std","pid":177067,"time":"2025-06-06T16:40:46.307041765Z","target":"tracing_actix_web::root_span_builder","line":41,"file":"/home/rotciv/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tracing-actix-web-0.7.18/src/root_span_builder.rs","http.method":"POST","http.flavor":"1.1","http.scheme":"http","http.host":"127.0.0.1:8000","request_id":"5950fad0-0965-4e3d-8607-085321b0667d","http.route":"/subscribe","http.client_ip":"127.0.0.1","http.user_agent":"curl/7.88.1","http.target":"/subscribe","otel.kind":"server","otel.name":"POST /subscribe"}
{"v":0,"name":"email_newsletter","msg":"[ADDING A NEW SUBSCRIBER. - START]","level":30,"hostname":"std","pid":177067,"time":"2025-06-06T16:40:46.307200185Z","target":"email_newsletter::routes::subscribe","line":14,"file":"src/routes/subscribe.rs","http.method":"POST","http.flavor":"1.1","http.scheme":"http","http.host":"127.0.0.1:8000","request_id":"5950fad0-0965-4e3d-8607-085321b0667d","subscriber_email":"thomas_mann10@hotmail.com","subscriber_name":"Tom","http.route":"/subscribe","http.client_ip":"127.0.0.1","http.user_agent":"curl/7.88.1","http.target":"/subscribe","otel.kind":"server","otel.name":"POST /subscribe"}
{"v":0,"name":"email_newsletter","msg":"[SAVING NEW SUBSCRIBER DETAILS IN THE DATABASE - START]","level":30,"hostname":"std","pid":177067,"time":"2025-06-06T16:40:46.307245871Z","target":"email_newsletter::routes::subscribe","line":29,"file":"src/routes/subscribe.rs","http.method":"POST","http.flavor":"1.1","http.scheme":"http","http.host":"127.0.0.1:8000","request_id":"5950fad0-0965-4e3d-8607-085321b0667d","subscriber_email":"thomas_mann10@hotmail.com","subscriber_name":"Tom","http.route":"/subscribe","http.client_ip":"127.0.0.1","http.user_agent":"curl/7.88.1","http.target":"/subscribe","otel.kind":"server","otel.name":"POST /subscribe"}
{"v":0,"name":"email_newsletter","msg":"[SAVING NEW SUBSCRIBER DETAILS IN THE DATABASE - EVENT] Failed to execute query: Database(PgDatabaseError { severity: Error, code: \"23505\", message: \"duplicate key value violates unique constraint \\\"subscriptions_email_key\\\"\", detail: Some(\"Key (email)=(thomas_mann10@hotmail.com) already exists.\"), hint: None, position: None, where: None, schema: Some(\"public\"), table: Some(\"subscriptions\"), column: None, data_type: None, constraint: Some(\"subscriptions_email_key\"), file: Some(\"nbtinsert.c\"), line: Some(666), routine: Some(\"_bt_check_unique\") })","level":50,"hostname":"std","pid":177067,"time":"2025-06-06T16:40:46.307986905Z","target":"email_newsletter::routes::subscribe","line":47,"file":"src/routes/subscribe.rs","http.method":"POST","http.flavor":"1.1","http.scheme":"http","http.host":"127.0.0.1:8000","request_id":"5950fad0-0965-4e3d-8607-085321b0667d","subscriber_email":"thomas_mann10@hotmail.com","subscriber_name":"Tom","http.route":"/subscribe","http.client_ip":"127.0.0.1","http.user_agent":"curl/7.88.1","http.target":"/subscribe","otel.kind":"server","otel.name":"POST /subscribe"}
{"v":0,"name":"email_newsletter","msg":"[SAVING NEW SUBSCRIBER DETAILS IN THE DATABASE - END]","level":30,"hostname":"std","pid":177067,"time":"2025-06-06T16:40:46.308037Z","target":"email_newsletter::routes::subscribe","line":29,"file":"src/routes/subscribe.rs","http.method":"POST","http.flavor":"1.1","http.scheme":"http","http.host":"127.0.0.1:8000","request_id":"5950fad0-0965-4e3d-8607-085321b0667d","subscriber_email":"thomas_mann10@hotmail.com","subscriber_name":"Tom","elapsed_milliseconds":0,"http.route":"/subscribe","http.client_ip":"127.0.0.1","http.user_agent":"curl/7.88.1","http.target":"/subscribe","otel.kind":"server","otel.name":"POST /subscribe"}
{"v":0,"name":"email_newsletter","msg":"[ADDING A NEW SUBSCRIBER. - END]","level":30,"hostname":"std","pid":177067,"time":"2025-06-06T16:40:46.308121049Z","target":"email_newsletter::routes::subscribe","line":14,"file":"src/routes/subscribe.rs","http.method":"POST","http.flavor":"1.1","http.scheme":"http","http.host":"127.0.0.1:8000","request_id":"5950fad0-0965-4e3d-8607-085321b0667d","subscriber_email":"thomas_mann10@hotmail.com","subscriber_name":"Tom","elapsed_milliseconds":0,"http.route":"/subscribe","http.client_ip":"127.0.0.1","http.user_agent":"curl/7.88.1","http.target":"/subscribe","otel.kind":"server","otel.name":"POST /subscribe"}
{"v":0,"name":"email_newsletter","msg":"[HTTP REQUEST - END]","level":30,"hostname":"std","pid":177067,"time":"2025-06-06T16:40:46.30821629Z","target":"tracing_actix_web::root_span_builder","line":41,"file":"/home/rotciv/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tracing-actix-web-0.7.18/src/root_span_builder.rs","http.method":"POST","http.flavor":"1.1","http.scheme":"http","http.host":"127.0.0.1:8000","request_id":"5950fad0-0965-4e3d-8607-085321b0667d","http.status_code":500,"otel.status_code":"OK","elapsed_milliseconds":1,"http.route":"/subscribe","http.client_ip":"127.0.0.1","http.user_agent":"curl/7.88.1","http.target":"/subscribe","otel.kind":"server","otel.name":"POST /subscribe"}
{"v":0,"name":"email_newsletter","msg":"[HTTP REQUEST - START]","level":30,"hostname":"std","pid":177067,"time":"2025-06-06T16:41:39.486292602Z","target":"tracing_actix_web::root_span_builder","line":41,"file":"/home/rotciv/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tracing-actix-web-0.7.18/src/root_span_builder.rs","http.scheme":"http","http.method":"POST","http.user_agent":"curl/7.88.1","http.route":"/subscribe","http.target":"/subscribe","otel.name":"POST /subscribe","otel.kind":"server","http.flavor":"1.1","http.client_ip":"127.0.0.1","request_id":"941492dc-9ea0-425c-a6d7-72bdff9872af","http.host":"127.0.0.1:8000"}
{"v":0,"name":"email_newsletter","msg":"[ADDING A NEW SUBSCRIBER. - START]","level":30,"hostname":"std","pid":177067,"time":"2025-06-06T16:41:39.48646029Z","target":"email_newsletter::routes::subscribe","line":14,"file":"src/routes/subscribe.rs","http.scheme":"http","http.method":"POST","http.user_agent":"curl/7.88.1","http.route":"/subscribe","http.target":"/subscribe","otel.name":"POST /subscribe","otel.kind":"server","http.flavor":"1.1","http.client_ip":"127.0.0.1","request_id":"941492dc-9ea0-425c-a6d7-72bdff9872af","subscriber_email":"thomas_mann11@hotmail.com","http.host":"127.0.0.1:8000","subscriber_name":"Tom"}
{"v":0,"name":"email_newsletter","msg":"[SAVING NEW SUBSCRIBER DETAILS IN THE DATABASE - START]","level":30,"hostname":"std","pid":177067,"time":"2025-06-06T16:41:39.486501848Z","target":"email_newsletter::routes::subscribe","line":29,"file":"src/routes/subscribe.rs","http.scheme":"http","http.method":"POST","http.user_agent":"curl/7.88.1","http.route":"/subscribe","http.target":"/subscribe","otel.name":"POST /subscribe","otel.kind":"server","http.flavor":"1.1","http.client_ip":"127.0.0.1","request_id":"941492dc-9ea0-425c-a6d7-72bdff9872af","subscriber_email":"thomas_mann11@hotmail.com","http.host":"127.0.0.1:8000","subscriber_name":"Tom"}
{"v":0,"name":"email_newsletter","msg":"[SAVING NEW SUBSCRIBER DETAILS IN THE DATABASE - END]","level":30,"hostname":"std","pid":177067,"time":"2025-06-06T16:41:39.48894637Z","target":"email_newsletter::routes::subscribe","line":29,"file":"src/routes/subscribe.rs","http.scheme":"http","http.method":"POST","http.user_agent":"curl/7.88.1","http.route":"/subscribe","http.target":"/subscribe","otel.name":"POST /subscribe","otel.kind":"server","http.flavor":"1.1","http.client_ip":"127.0.0.1","request_id":"941492dc-9ea0-425c-a6d7-72bdff9872af","subscriber_email":"thomas_mann11@hotmail.com","http.host":"127.0.0.1:8000","subscriber_name":"Tom","elapsed_milliseconds":2}
{"v":0,"name":"email_newsletter","msg":"[ADDING A NEW SUBSCRIBER. - END]","level":30,"hostname":"std","pid":177067,"time":"2025-06-06T16:41:39.489012014Z","target":"email_newsletter::routes::subscribe","line":14,"file":"src/routes/subscribe.rs","http.scheme":"http","http.method":"POST","http.user_agent":"curl/7.88.1","http.route":"/subscribe","http.target":"/subscribe","otel.name":"POST /subscribe","otel.kind":"server","http.flavor":"1.1","http.client_ip":"127.0.0.1","request_id":"941492dc-9ea0-425c-a6d7-72bdff9872af","subscriber_email":"thomas_mann11@hotmail.com","http.host":"127.0.0.1:8000","subscriber_name":"Tom","elapsed_milliseconds":2}
{"v":0,"name":"email_newsletter","msg":"[HTTP REQUEST - END]","level":30,"hostname":"std","pid":177067,"time":"2025-06-06T16:41:39.489085263Z","target":"tracing_actix_web::root_span_builder","line":41,"file":"/home/rotciv/.cargo/registry/src/index.crates.io-1949cf8c6b5b557f/tracing-actix-web-0.7.18/src/root_span_builder.rs","http.scheme":"http","http.method":"POST","http.user_agent":"curl/7.88.1","http.route":"/subscribe","http.target":"/subscribe","otel.name":"POST /subscribe","otel.kind":"server","http.flavor":"1.1","http.client_ip":"127.0.0.1","request_id":"941492dc-9ea0-425c-a6d7-72bdff9872af","http.status_code":201,"http.host":"127.0.0.1:8000","otel.status_code":"OK","elapsed_milliseconds":2}
